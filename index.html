<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>EmailJS Teszt</title>

<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>

<script>
  // Inicializáljuk az EmailJS-t
  emailjs.init("RJ8KpMBsys6naM2Ii"); // Public Key

  function kuldesEmail() {
    const megrendeles = document.getElementById("megrendeles").value.trim();
    const telefon = document.getElementById("telefon").value.trim();

    console.log("Küldés kezdődik...");

    if (!megrendeles || !telefon) {
      alert("Minden mezőt ki kell tölteni!");
      console.log("Hiba: üres mezők");
      return;
    }

    const templateParams = {
      megrendeles: megrendeles,
      telefon: telefon
    };

    console.log("templateParams:", templateParams);

    // Küldés
    emailjs.send("service_clmo87i", "template_hfqpbia", templateParams)
      .then(function(response) {
        alert("✅ Email elküldve!");
        console.log("Response:", response);
        document.getElementById("megrendeles").value = "";
        document.getElementById("telefon").value = "";
      }, function(error) {
        alert("❌ Hiba az email küldésénél");
        console.error("Error:", error);
      });
  }
</script>

<style>
  body { font-family: Arial; padding: 20px; }
  input { width: 300px; padding: 8px; margin-top: 5px; }
  button { margin-top: 20px; padding: 10px 20px; cursor: pointer; }
</style>
</head>

<body>

<h2>EmailJS Teszt</h2>

<form onsubmit="event.preventDefault(); kuldesEmail();">
  <label>Megrendelés típusa:</label><br>
  <input id="megrendeles" type="text" required><br><br>

  <label>Telefonszám:</label><br>
  <input id="telefon" type="text" required><br><br>

  <button type="submit">Küldés</button>
</form>

<p><em>Figyelem: Outlook/Gmail címre App Password vagy OAuth kell, különben a böngészőből nem fog megérkezni az email.</em></p>

</body>
</html>
