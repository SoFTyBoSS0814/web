<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Megrendelés Küldése</title>

<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>

<script>
  // Inicializáljuk az EmailJS-t a Public Key-vel
  (function () {
    emailjs.init("RJ8KpMBsys6naM2Ii"); // A te Public Key-d
  })();

  function kuldesEmail() {
    const megrendeles = document.getElementById("megrendeles").value.trim();
    const telefon = document.getElementById("telefon").value.trim();

    if (!megrendeles || !telefon) {
      alert("Minden mezőt ki kell tölteni!");
      return;
    }

    // Itt a TEST INBOX service (biztosan működik)
    emailjs.send(
      "service_clmo87i",     // a te EmailJS Service ID-d
      "template_xrqx4lv",    // Template ID
      {
        megrendeles: megrendeles,
        telefon: telefon
      }
    ).then(
      function () {
        alert("✅ Email ELKÜLDVE! (teszt inboxba)");
        document.getElementById("megrendeles").value = "";
        document.getElementById("telefon").value = "";
      },
      function (error) {
        alert("❌ Hiba történt az email küldésénél");
        console.error(error);
      }
    );
  }
</script>

<style>
  body { font-family: Arial; padding: 20px; }
  input { width: 300px; padding: 8px; margin-top: 5px; }
  button { margin-top: 20px; padding: 10px 20px; cursor: pointer; }
</style>
</head>

<body>

<h2>Megrendelés</h2>

<form onsubmit="event.preventDefault(); kuldesEmail();">
  <label>Megrendelés típusa:</label><br>
  <input id="megrendeles" type="text" required><br><br>

  <label>Telefonszám:</label><br>
  <input id="telefon" type="text" required><br><br>

  <button type="submit">Küldés</button>
</form>

<p><em>Figyelem: ez a teszt inbox működik App Password nélkül. A Gmail-re való küldéshez App Password szükséges.</em></p>

</body>
</html>
